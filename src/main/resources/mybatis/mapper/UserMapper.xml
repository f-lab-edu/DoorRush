<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.flab.doorrush.domain.user.dao.UserMapper">

  <insert id="insertUser" parameterType="com.flab.doorrush.domain.user.dto.UserDto">
    INSERT INTO USER (ID,
    PASSWORD,
    NAME,
    PHONE_NUMBER,
    EMAIL)
    values ( #{id}
    , #{password}
    , #{name}
    , #{phoneNumber}
    , #{email})
    <selectKey resultType="java.lang.String" keyColumn="ID" keyProperty="id" order="AFTER">
      SELECT ID FROM USER WHERE ID = #{id}
    </selectKey>
  </insert>

  <select id="selectUserById" parameterType="String"
    resultType="com.flab.doorrush.domain.user.domain.User">
    SELECT ID,
           PASSWORD,
           NAME,
           PHONE_NUMBER,
           EMAIL
    FROM USER
    WHERE ID = #{id}
  </select>

  <select id="getCountById" parameterType="String" resultType="int">
    SELECT COUNT(*)
    FROM USER
    WHERE ID = #{id}
  </select>


  <select id="selectUserByColumns" parameterType="String"
    resultType="com.flab.doorrush.domain.user.domain.User">
    SELECT *
    FROM USER
    WHERE ${column1} = #{value1}
      AND ${column2} = #{value2};
  </select>


</mapper>