# YAML 파일은 사람이 쉽게 읽을 수 있는 데이터 직렬화 양식이다.
# properties 보다 가독성이 좋다.

spring:
  profiles:
    active: local
  # spring.sql.init.mode : 유형에 관계없이 항상 SQL 데이터베이스를 초기화
  sql:
    init:
      mode: always

# mybatis
mybatis:
  mapper-locations: classpath:mybatis/mapper/*Mapper.xml

# api
api:
  kakao:
    authorization: ${AUTHORIZATION}
    host: https://dapi.kakao.com
    url: /v2/local/geo/coord2address.json

# resilience4j
resilience4j.circuitbreaker:
  configs:
    default:
      failureRateThreshold: 50
      slowCallRateThreshold: 100
      slowCallDurationThreshold: 60000
      permittedNumberOfCallsInHalfOpenState: 4
      maxWaitDurationInHalfOpenState: 1000
      slidingWindowType: COUNT_BASED
      slidingWindowSize: 10
      minimumNumberOfCalls: 5
      waitDurationInOpenState: 10000
  instances:
    kakaoAddressApiCircuitBreaker:
      baseConfig: default

--- # local 환경
spring:
  config:
    activate:
      on-profile: local
  datasource:
    username: sa
    url: jdbc:h2:~/test;AUTO_SERVER=true;
    driverClassName: org.h2.Driver
    password: ''


